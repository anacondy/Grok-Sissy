import React, { useState, useEffect, useRef } from 'react';\nimport { Upload, X } from 'lucide-react';\n\nconst App = () => {\n  const [artifacts, setArtifacts] = useState([]);\n  const canvasElementRef = useRef(null);\n\n  useEffect(() => {\n    const canvas = canvasElementRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    let width = window.innerWidth;\n    let height = window.innerHeight;\n    canvas.width = width;\n    canvas.height = height;\n    const particleCount = width < 768 ? 40 : 100;\n    const particles = [];\n    class Particle {\n      constructor() {\n        this.x = Math.random() * width;\n        this.y = Math.random() * height;\n        this.vx = (Math.random() - 0.5) * 0.2;\n        this.vy = (Math.random() - 0.5) * 0.2;\n        this.size = Math.random() * 2 + 0.2;\n        this.alpha = Math.random() * 0.5 + 0.05;\n        this.fadeDir = Math.random() > 0.5 ? 0.003 : -0.003;\n      }\n      update() {\n        this.x += this.vx;\n        this.y += this.vy;\n        this.alpha += this.fadeDir;\n        if (this.alpha <= 0 || this.alpha >= 0.5) this.fadeDir *= -1;\n        if (this.x < 0) this.x = width; if (this.x > width) this.x = 0;\n        if (this.y < 0) this.y = height; if (this.y > height) this.y = 0;\n      }\n      draw() {\n        ctx.beginPath();\n        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n        ctx.fillStyle = `rgba(168, 85, 247, ${this.alpha})`;\n        ctx.fill();\n      }\n    }\n    for (let i = 0; i < particleCount; i++) particles.push(new Particle());\n    const animate = () => {\n      ctx.clearRect(0, 0, width, height);\n      particles.forEach(p => { p.update(); p.draw(); });\n      requestAnimationFrame(animate);\n    };\n    const animationId = requestAnimationFrame(animate);\n    const handleResize = () => { width = window.innerWidth; height = window.innerHeight; canvas.width = width; canvas.height = height; };\n    window.addEventListener('resize', handleResize);\n    return () => { window.removeEventListener('resize', handleResize); cancelAnimationFrame(animationId); };\n  }, []);\n\n  const handleFileUpload = (e) => { if (e.target.files?.length) { setArtifacts(prev => [...Array.from(e.target.files), ...prev]); } };\n\n  return (\n    <div className=\"relative min-h-screen w-full bg-black text-white overflow-x-hidden\">\n      <canvas ref={canvasElementRef} className=\"fixed inset-0 z-0 pointer-events-none opacity-30\" />\n      <div className=\"relative z-10 w-full min-h-screen flex flex-col items-center\">\n        <header className=\"w-full px-6 pt-16 pb-12 text-center\">\n          <h1 className=\"text-6xl md:text-7xl font-bold tracking-tighter mb-4\">\n            <span className=\"text-white\">ARCHIVE</span>\n            <span className=\"text-purple-500\">_</span>\n          </h1>\n          <div className=\"text-sm md:text-base font-mono tracking-widest text-purple-400\">\n            <span className=\"text-green-400\">‚óè</span> SYSTEM ONLINE // {artifacts.length} ARTIFACT{artifacts.length !== 1 ? 'S' : ''}\n          </div>\n        </header>\n        <main className=\"w-full max-w-6xl px-4 pb-24\">\n          <label className=\"group cursor-pointer flex flex-col items-center justify-center w-full max-w-2xl mx-auto h-64 mb-16 border-2 border-dashed border-purple-500/30 hover:border-purple-500/60 rounded-lg transition-all duration-300 backdrop-blur-sm\">\n            <div className=\"flex flex-col items-center gap-4 text-center\">\n              <Upload className=\"w-12 h-12 text-purple-400/60 group-hover:text-purple-400\" />\n              <div>\n                <span className=\"block font-mono text-sm tracking-widest text-white/70\">UPLOAD MORE</span>\n                <span className=\"text-xs text-white/30 mt-1\">[ DRAG & DROP OR CLICK ]</span>\n              </div>\n            </div>\n            <input type=\"file\" multiple accept=\"image/*\" className=\"hidden\" onChange={handleFileUpload} />\n          </label>\n          {artifacts.length > 0 && (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n              {artifacts.map((file, idx) => (\n                <div key={`${file.name}-${idx}`} className=\"group relative\">\n                  <div className=\"relative aspect-[3/4] rounded-lg overflow-hidden border border-purple-500/20 hover:border-purple-500/60 bg-black/40\">\n                    <img src={URL.createObjectURL(file)} alt={file.name} className=\"w-full h-full object-cover group-hover:scale-105\" />\n                    <button onClick={() => setArtifacts(prev => prev.filter((_, i) => i !== idx))} className=\"absolute top-2 right-2 p-2 bg-black/60 hover:bg-red-900/80 text-white rounded-full opacity-0 group-hover:opacity-100\"><X size={18} /></button>\n                  </div>\n                  <p className=\"text-center text-xs text-white/50 mt-2 truncate font-mono\">{file.name}</p>\n                </div>\n              ))}\n            </div>\n          )}\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default App;
